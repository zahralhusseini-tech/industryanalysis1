"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[8980],{45577:(e,t,i)=>{i.d(t,{q:()=>a});var n=i(45992),o=i(17588),l=i(66264),r=i(60708),d=i(70698),s=i(5441);const a=(0,o.forwardRef)(((e,t)=>{let{getItems:i,item:a,menuType:u,theme:c,shouldCloseWhenClickOutside:m=!1,menuTheme:g,styles:h,slideSize:v,getItemLayout:f}=e;const[C,p]=(0,o.useState)(i()),[T,y]=(0,o.useState)(!1),b=function(e){const t=(0,o.useRef)(null);return(0,o.useEffect)((()=>{e&&("function"===typeof e?e(t.current):e.current=t.current)})),t}(t),S=(0,o.useCallback)((()=>{y((e=>!e))}),[]);(0,o.useEffect)((()=>{const e=null===a||void 0===a?void 0:a.on(l.q.Message,(e=>{e===r.m.Entering&&(p(i()),y(!1))}));return()=>{null===e||void 0===e||e()}}),[i,a]),function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.useEffect)((()=>{const n=i=>{(null===t||void 0===t?void 0:t.current)&&!t.current.contains(i.target)&&e(i)};return document.addEventListener("mouseup",n,i),document.addEventListener("touchend",n,i),()=>{document.removeEventListener("mouseup",n,i),document.removeEventListener("touchend",n,i)}}),[t,e,i])}((0,o.useCallback)((()=>{m&&T&&y(!1)}),[T,m]),b,!0),(0,o.useEffect)((()=>{p(i())}),[i]);const x=(0,d.CO)(u);return(0,s.T)({theme:c,children:(0,n.jsx)(x,{items:C,onToggleClick:S,opened:T,ref:b,theme:c,menuTheme:g,styles:h,slideSize:v,getItemLayout:f})})}))},15690:(e,t,i)=>{i.d(t,{M:()=>f});var n=i(45992),o=i(17588),l=i(89035),r=i(21646);const d=()=>{},s=(0,o.forwardRef)(((e,t)=>{let{styles:i}=e;const o=d;return(0,n.jsx)(r.W1,{ref:t,style:{width:"100%",height:"100%"},$backgroundColor:i.backgroundColor,$hamburgerIconColor:i.hamburgerIconColor,children:(0,n.jsxs)(r.YT,{"data-nav-element":"hamburger-menu-toggle",$width:l.sf,children:[(0,n.jsx)(r.e3,{}),(0,n.jsx)(r.cl,{onClick:o,role:"button",children:(0,n.jsx)(r.h_,{children:(0,n.jsx)(r.RG,{$color:i.hamburgerIconColor})})})]})})}));var a=i(58424),u=i(73242);const c=Math.random().toString(36).substring(7),m=()=>{},g=(0,o.forwardRef)(((e,t)=>{let{items:i,menuTheme:o,styles:l}=e;const r=`mainMenu-${c}`,d=m,{ref:s,hasScroll:g}=(0,a.x)();return(0,n.jsxs)(u.W1,{"aria-labelledby":r,role:"menu",ref:t,$menuTheme:o,style:{width:"100%",height:"100%"},$backgroundColor:l.backgroundColor,children:[g.horizontal&&(0,n.jsx)(u.hh,{onClick:d,$menuTheme:o,$disabled:!0,children:(0,n.jsx)(u.rZ,{})}),(0,n.jsx)(u.JU,{id:r,children:"Main menu"}),(0,n.jsx)(u.e3,{}),(0,n.jsx)(u.QS,{ref:s,children:i.map((e=>(0,n.jsx)(u.d,{$isLink:e.isLink,$isActive:e.isActive,$isAllowed:e.isAllowed,$backgroundColor:e.backgroundColor,$textColor:e.textColor,children:(0,n.jsx)(u.Dr,{tabIndex:-1,"aria-label":e.altText||void 0,"aria-disabled":!e.altText,children:(0,n.jsx)(u.gi,{children:e.text})})},e.text+e.key)))}),g.horizontal&&(0,n.jsx)(u.hh,{onClick:d,$menuTheme:o,children:(0,n.jsx)(u.wF,{})})]})}));var h=i(54769);var v=i(5441);const f=e=>{let{getItems:t,menuType:i,theme:o,styles:l,menuTheme:r}=e;const d=t(),a=(e=>{switch(e){case h.L.Horizontal:return g;case h.L.Hamburger:return s;default:return g}})(i);return(0,v.T)({theme:o,children:(0,n.jsx)(a,{items:d,menuTheme:r,styles:l})})}},76390:(e,t,i)=>{i.d(t,{F:()=>o,c:()=>l});var n=i(15938);const o=e=>e===n.N.Dark?{textColor:"rgb(255, 255, 255)",itemBackgroundColor:"rgb(208, 208, 208)"}:{textColor:"rgb(0, 0, 0)",itemBackgroundColor:"rgb(154, 154, 154)"},l=e=>e===n.N.Dark?{menuBackgroundColor:"rgb(0, 0, 0)",hamburgerIconColor:"rgb(255, 255, 255)"}:{menuBackgroundColor:"rgb(255, 255, 255)",hamburgerIconColor:"rgb(0, 0, 0)"}},68980:(e,t,i)=>{i.r(t),i.d(t,{geniallyMenuEditorScript:()=>p});var n=i(45992),o=i(17588),l=i(57277),r=i(55399),d=i(42511),s=i(45577),a=i(15690),u=i(76390);var c,m=i(89035),g=i(54769);!function(e){e[e.MD=380]="MD"}(c||(c={}));const h=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n;if(!e||!e.exists)return;const o=e,{menuType:l}=t;if(i){if(l===g.L.Horizontal){const e=(e=>{switch(e){case g.L.Horizontal:return{minWidth:c.MD,maxWidth:void 0};case g.L.Hamburger:return{minWidth:m.N_.width,maxWidth:c.MD};default:return{minWidth:void 0,maxWidth:void 0}}})(l),t=o.parentSlide.size.width-24,i=Math.max(null!==(n=e.minWidth)&&void 0!==n?n:0,t);o.setSize(i,m.cE.height),o.setPosition((o.parentSlide.size.width-i)/2,o.y)}l===g.L.Hamburger&&o.setSize(m.N_.width,m.N_.height)}};var v=i(38352),f=i(49754);const C=(0,r.V)((0,o.forwardRef)(((e,t)=>{let{editor:i,script:o,getItemLayout:l}=e;var r;const{theme:a,t:u}=i,{item:c}=o,{menuItems:m,menuTheme:g,menuType:h,backgroundColor:f,hamburgerIconColor:C}=o.getConfig(),p=null!==(r=null===c||void 0===c?void 0:c.parentSlide.size)&&void 0!==r?r:{width:0,height:0},{removeSelectedItem:T,setDefaultSelectedItem:y}=(0,d.C)();return o.on("configChange",(e=>{let{config:t,prevConfig:i}=e;!i||t.menuType===i.menuType&&t.menuTheme===i.menuTheme||(T(),requestAnimationFrame(y))})),(0,n.jsx)(s.q,{ref:t,getItems:()=>(0,v.N)(m,i,u,!0),menuType:h,theme:a,menuTheme:g,styles:{backgroundColor:f,hamburgerIconColor:C},slideSize:p,getItemLayout:l})}))),p=e=>{let{script:t,editor:i}=e;i.justCreatedFromSidebar&&(e=>{let{editor:t,script:i}=e;0===i.getConfig().slidesToDisplay.selectedSlides.length&&i.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=t.getSlides().map((e=>e.id))}))})({editor:i,script:t}),i.on("slideCreated",(e=>{let{slide:i}=e;((e,t)=>{if(!1===e.getConfig().slidesToDisplay.allSlidesSelected){const i=e.item;i.excludedSlidesIds=[...i.excludedSlidesIds,t.id]}})(t,i)})),i.on("slideDeleted",(e=>{let{slide:n}=e;((e,t)=>{1===e.getSlides().length&&t.mutateConfig((e=>{e.slidesToDisplay.allSlidesSelected=!0,e.slidesToDisplay.selectedSlides=[]}))})(i,t),((e,t)=>{const{allSlidesSelected:i,selectedSlides:n}=e.getConfig().slidesToDisplay;if(!i)if(null===n||void 0===n?void 0:n.includes(t.id))e.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=e.slidesToDisplay.selectedSlides.filter((e=>e!==t.id))}));else{const i=e.item;i.excludedSlidesIds=i.excludedSlidesIds.filter((e=>e!==t.id))}})(t,n)})),t.on("configChange",(e=>{let{config:n,prevConfig:o}=e;const l=t.item;l&&((e=>{let{item:t}=e;if(!t||!t.exists)return;const i=t;t.thumbnail&&(i.thumbnail=void 0)})({item:l}),o&&n.menuType!==o.menuType&&h(l,n,!0),o&&((e,t)=>{return e.slidesToDisplay.allSlidesSelected!==(null===t||void 0===t?void 0:t.slidesToDisplay.allSlidesSelected)||(i=e.slidesToDisplay.selectedSlides,n=null===t||void 0===t?void 0:t.slidesToDisplay.selectedSlides,i.length!==n.length||!i.every(((e,t)=>e===n[t])));var i,n})(n,o)&&((e,t,i,n)=>{e.item&&e.item.exists&&(function(e,t,i){const n=i.slidesToDisplay.selectedSlides.filter((e=>t.getSlides().find((t=>t.id===e))));n.length!==i.slidesToDisplay.selectedSlides.length&&e.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=n}))}(e,t,i),function(e,t,i,n){const{item:o}=e,l=o;(i.slidesToDisplay.allSlidesSelected!==(null===n||void 0===n?void 0:n.slidesToDisplay.allSlidesSelected)||i.slidesToDisplay.selectedSlides!==(null===n||void 0===n?void 0:n.slidesToDisplay.selectedSlides))&&(l.excludedSlidesIds=function(e,t){if(e.slidesToDisplay.allSlidesSelected)return[];const i=t.getSlides(),n=e.slidesToDisplay.selectedSlides||[];return i.filter((e=>!n.includes(e.id))).map((e=>e.id))}(i,t),e.mutateConfig((e=>{e.slidesToDisplay.allSlidesSelected&&(e.slidesToDisplay.selectedSlides=[])})))}(e,t,i,n))})(t,i,n,o),o&&n.menuTheme!==o.menuTheme&&((e,t,i)=>{const n=(0,u.c)(e.menuTheme),o=(0,u.F)(e.menuTheme);i.mutateConfig((e=>{e.backgroundColor===t.backgroundColor&&(e.backgroundColor=n.menuBackgroundColor),e.hamburgerIconColor===t.hamburgerIconColor&&(e.hamburgerIconColor=n.hamburgerIconColor),e.menuItems=e.menuItems.map(((e,i)=>{var n,l,r,d;return e.backgroundColor===(null===(l=null===(n=t.menuItems)||void 0===n?void 0:n[i])||void 0===l?void 0:l.backgroundColor)&&(e.backgroundColor=o.itemBackgroundColor),e.textColor===(null===(d=null===(r=t.menuItems)||void 0===r?void 0:r[i])||void 0===d?void 0:d.textColor)&&(e.textColor=o.textColor),e}))}))})(n,o,t),l.showOverflow||(l.showOverflow=!0),l.isTransversal||(l.isTransversal=!0))}));const o=()=>{var e,i,n,o,l,r,d,s;return{width:null!==(i=null===(e=t.item)||void 0===e?void 0:e.width)&&void 0!==i?i:0,height:null!==(o=null===(n=t.item)||void 0===n?void 0:n.height)&&void 0!==o?o:0,left:null!==(r=null===(l=t.item)||void 0===l?void 0:l.x)&&void 0!==r?r:0,top:null!==(s=null===(d=t.item)||void 0===d?void 0:d.y)&&void 0!==s?s:0}};(0,l.x)({getTargetNodeItem:()=>t.item,renderApp:()=>(0,n.jsx)(C,{editor:i,script:t,isSelectableItem:f.M2,selectableItems:f.Xg,getItemLayout:o}),renderThumbnailApp:()=>{const{theme:e,t:o}=i,{menuItems:l,menuTheme:r,menuType:d,backgroundColor:s,hamburgerIconColor:u}=t.getConfig();return(0,n.jsx)(a.M,{getItems:()=>(0,v.N)(l,i,o,!0),menuType:d,theme:e,menuTheme:r,styles:{backgroundColor:s,hamburgerIconColor:u}})},nodePrefix:"menu"})({script:t,editor:i})}},38352:(e,t,i)=>{var n;i.d(t,{N:()=>u,e:()=>m}),function(e){e.None="none",e.Unique="unique"}(n||(n={}));const o=new Map,l=new Map;function r(e){const t=function(e){return"string"===typeof e?l.get(e):o.get(e)}(e);if(!t)throw new Error(`error getting metadata for unknown interactivity action type - ${e}`);return t}var d=i(48237);const s=(e,t,i)=>""===e?t(i?"__new.editor.widget.menu.sidebar.emptyTitlePlaceholder":"__new.view.widget.menu.sidebar.emptyTitlePlaceholder"):e,a=(e,t)=>{var i,n,o,l;const d=e.menuItemAction.action;if(!d)return!1;const s=r(d.type),a=null===(i=s.getSlideIdsFromSnapshot)||void 0===i?void 0:i.call(s,d),u=null===(n=t.getCurrentSlide())||void 0===n?void 0:n.id;if(a&&a.length>0)return u===a[0];const c=t.getSlides(),m=c.findIndex((e=>e.id===u));return"smartLink"in d.target&&"firstPage"===(null===(o=d.target)||void 0===o?void 0:o.smartLink)?0===m:"smartLink"in d.target&&"lastPage"===(null===(l=d.target)||void 0===l?void 0:l.smartLink)&&m===c.length-1},u=(e,t,i,n)=>e.map(((e,o)=>{var l;const r=(null===(l=e.menuItemAction.action)||void 0===l?void 0:l.type)===d.L.GoToSlide;return{text:s(e.menuItemName,i,n),key:o,onClick:()=>{},isLink:r,isActive:a(e,t),isAllowed:r,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}})),c={active:!1,allowed:!1},m=(e,t,i)=>e.map(((e,n)=>{var o,l;const r=!!(null===(o=e.menuItemAction)||void 0===o?void 0:o.data)&&(null===(a=e.menuItemAction.data)||void 0===a?void 0:a.type)===d.L.GoToSlide;var a;const{active:u,allowed:m}=r&&(null===(l=e.menuItemAction)||void 0===l?void 0:l.data)?t.getGoToSlideState(e.menuItemAction.data):c;return{text:s(e.menuItemName,t.t,i),key:n,onClick:()=>{var t;return null===(t=e.menuItemAction)||void 0===t?void 0:t.run()},isLink:r,isActive:u,isAllowed:m,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}}))},57277:(e,t,i)=>{i.d(t,{x:()=>o});var n=i(70377);function o(e){let{getTargetNodeItem:t,renderApp:i,renderThumbnailApp:o,nodePrefix:l}=e;return e=>{let{script:r,editor:d}=e,s=null,a=[];function u(e){s&&(n.unmountComponentAtNode(s),s=null),e&&"innerHtml"in e&&(e.innerHtml='<div class="card-iframe"><div style="width: 100%; height: 100%; background: #FF0000; color: #FFFFFF;">Deleted</div><script><\/script></div>')}function c(){s&&n.render(i(),s)}function m(){const e=t(r.getConfig());if(!e)return;const i=`${l}-${e.id}`;"innerHtml"in e&&(e.innerHtml=`<div class="card-iframe"><div id="${i}" class="genially-widget-app" style="width: 100%; height: 100%;"></div></div>`),requestAnimationFrame((()=>{s="idOfFreeNode"in e?document.getElementById(e.idOfFreeNode)||null:document.getElementById(i)||null,c()}))}function g(){o&&a.length&&a.forEach((e=>{n.render(o(),e)}))}function h(){const e=t(r.getConfig());e&&"idOfThumbnailFreeNode"in e&&requestAnimationFrame((()=>{const t=document.getElementsByClassName(e.idOfThumbnailFreeNode);a=Array.from(t),g()}))}r.on("configChange",(e=>{let{config:i,prevConfig:n}=e;const o=t(i),l=n?t(n):void 0;l&&l!==o&&u(l),o&&(o!==l?(m(),h()):(c(),g()))})),r.on("dispose",(()=>{u(t(r.getConfig()))})),d.on("itemMount",(e=>{let{item:t}=e;t===r.item&&m()})),d.on("slideChange",(()=>{c()})),d.on("itemUnmount",(e=>{let{item:t}=e;t===r.item&&u()})),d.on("itemThumbnailMount",(e=>{let{item:t}=e;t===r.item&&h()}))}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/8980.04a82d13.chunk.js.map