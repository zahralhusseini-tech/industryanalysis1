"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[1176],{3144:(e,t,i)=>{i.r(t),i.d(t,{GChart:()=>xe,default:()=>me});var o=i(17588),r=i(14726),s=i(37577),a=i(72342),l=i.n(a);const n=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),c=e=>e&&"object"===typeof e&&!Array.isArray(e),h=(e,t)=>{const i=Object.assign({},e);return c(e)&&c(t)&&Object.keys(t).forEach((o=>{c(t[o])?o in e?i[o]=h(e[o],t[o]):Object.assign(i,{[o]:t[o]}):Object.assign(i,{[o]:t[o]})})),i},f=window.navigator.userAgent.toLowerCase().includes("firefox"),d=s.Ay.div((e=>({".apexcharts-heatmap-series rect":{fill:e.recreate?void 0:"transparent",transform:e.recreate?void 0:"scale(0)"},".apexcharts-legend.apexcharts-align-center":{"&.position-right, &.position-left":{".apexcharts-legend-series":{display:"flex",alignItems:"center",padding:"2px 0"}}}})));class u extends o.PureComponent{constructor(e){super(e),this.chartRef=(0,o.createRef)(),this.chart=null}componentDidMount(){this.createChart()}componentDidUpdate(e){if(!this.chart)return;const{colors:t,height:i="auto",options:o,prefix:r,recreate:s,series:a,suffix:l,type:c,width:h="100%"}=this.props;if(e.type!==c!==(e.recreate!==s&&s)||e.options.markers&&!o.markers)return this.recreateChart(),void(this.chartRef.current&&!n(this.chartRef.current)&&((e,t)=>{if(!window.IntersectionObserver)return;const i=new window.IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&(t(),i.disconnect())}))}),{root:document.documentElement});i.observe(e)})(this.chartRef.current,(()=>{setTimeout((()=>this.recreateChart()),0)})));const d=JSON.stringify(e.colors),u=JSON.stringify(e.options),p=JSON.stringify(e.series),g=JSON.stringify(t),x=JSON.stringify(o);var m,y;p!==JSON.stringify(a)&&(a&&!("length"in a)||0===a.length?this.chart.updateOptions(this.getConfig()):(m=e.series,y=a,m.some((e=>y.some((t=>e.name!==t.name&&!t.name))))||0===e.series.length?this.recreateChart():this.chart.updateSeries(a))),u===x&&h===e.width&&i===e.height&&r===e.prefix&&l===e.suffix&&d===g||!(!f||this.chartRef.current&&n(this.chartRef.current))||this.chart.updateOptions(this.getConfig())}componentWillUnmount(){this.chart&&"function"===typeof this.chart.destroy&&this.chart.destroy()}getConfig(){const{colors:e,height:t,options:i,series:o,type:r,width:s}=this.props,a={chart:{type:r,height:t,width:s},series:o,colors:e},l=JSON.parse(JSON.stringify(h(i,a)));var n;(l.tooltip.y.formatter=i.tooltip.y.formatter,"scatter"===r)&&(l.tooltip.y.formatter=i.tooltip.y.formatter,l.xaxis.labels.formatter=null===(n=i.xaxis)||void 0===n?void 0:n.labels.formatter);return l}recreateChart(){try{this.chart.destroy()}catch{console.error("Sorry, we errored with destroying the chart...")}this.createChart()}createChart(){this.chart=new(l())(this.chartRef.current,this.getConfig()),this.chart.render()}render(){const{recreate:e}=this.props;return o.createElement(d,{recreate:e,ref:this.chartRef})}}const p=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,id:l,labelsFontSize:n,options:c,prefix:f,series:d,showAxisLabels:p=!1,stacked:g=!1,suffix:x,textColor:m,width:y}=e;const w=h(c,{chart:{id:`area-chart-${l}`,stacked:g},xaxis:{labels:{show:p,style:{colors:m,fontSize:n}},categories:i},yaxis:{labels:{show:p,style:{colors:r,fontSize:n}}},stroke:{show:!0},fill:{type:"solid",opacity:.2},legend:{fontSize:n,labels:{colors:r}}});return o.createElement(u,{recreate:t,colors:s,height:a,options:w,prefix:f,series:d,suffix:x,type:"area",width:y})},g=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,horizontal:l=!1,id:n,invertYAxis:c=!1,labelsFontSize:f,options:d,prefix:p,series:g,showAxisLabels:x=!1,stacked:m=!1,suffix:y,textColor:w,width:b}=e;const A=h(d,{chart:{id:`column-chart-${n}`,stacked:m},xaxis:{labels:{show:x,style:{colors:r||(l?void 0:w),fontSize:f}},categories:i},yaxis:{reversed:c,opposite:c,labels:{show:x,style:{colors:r||(l?w:void 0),fontSize:f}}},plotOptions:{bar:{horizontal:l}},legend:{fontSize:f,labels:{colors:r}}});return o.createElement(u,{recreate:t,colors:s,height:a,options:A,prefix:p,series:g,suffix:y,type:"bar",width:b})},x=e=>{let{category:t,prefix:i,suffix:o,value:r}=e;return`${t?`${t}: `:""}${i?`${i} `:""}${r}${o?` ${o}`:""}`},m=e=>{var t,i;let{categories:r,colors:s,height:a,id:l,options:n,prefix:c,series:f,showAxisLabels:d=!1,suffix:p,textColor:g,width:m,animating:y,lineVariant:w,labelsFontSize:b,showTitles:A,colorAllTexts:S}=e;const v=(e=>0===e.length?[]:[{data:e[0].data,name:e[0].name,type:"column"},{data:e[1]?e[1].data:[],name:e[1]?e[1].name:"",type:"line"}])(f),C={chart:{id:`column-line-chart-${l}`},xaxis:{labels:{show:d,style:{colors:g,fontSize:b}},categories:r},yaxis:[{show:d,title:A?{text:null===v||void 0===v||null===(t=v[0])||void 0===t?void 0:t.name,style:{color:S,fontSize:b}}:void 0,labels:{align:d?"left":void 0,style:{colors:S,fontSize:b}}},{show:d,title:A?{text:null===v||void 0===v||null===(i=v[1])||void 0===i?void 0:i.name,style:{color:S,fontSize:b}}:void 0,labels:{align:d?"right":void 0,style:{colors:S,fontSize:b}},opposite:!0}],stroke:{curve:w||"straight",show:!0},tooltip:{x:{show:!1},y:{formatter:(e,t)=>{let{seriesIndex:i}=t;return`${x({prefix:c[i],suffix:p[i],value:e})}`}}},legend:{fontSize:b,labels:{colors:S}}},E=h(n,C);return o.createElement(u,{recreate:y,colors:s,height:a,options:E,prefix:c,series:v,suffix:p,type:"line",width:m})},y=e=>{let{categories:t,colors:i,height:r,id:s,options:a,prefix:l,series:n,suffix:c,width:f,animating:d,labelsFontSize:p,colorAllTexts:g}=e;const x=h(a,{chart:{id:`donut-chart-${s}`},tooltip:{theme:"light"},labels:t,legend:{fontSize:p,labels:{colors:g}}});return o.createElement(u,{recreate:d,colors:i,height:r,options:x,prefix:l,series:n[0]?n[0].data:[],suffix:c,type:"donut",width:f})};var w=i(95046);const b=(e,t)=>{const i=(0,w.K6)((0,w.E2)(e)),o={h:i.h,s:i.s,l:i.l+t>100?100:i.l+t};return(0,w.Ob)((0,w.YL)(o))},A=s.Ay.div((()=>({position:"relative",svg:{maxHeight:"100%"}}))),S=s.Ay.g((e=>{let{animate:t=!1,theme:{color:i}}=e;return{transitionProperty:"transform",transitionDuration:(t?.8:0)+"s",transitionTimingFunction:"ease-in-out",line:{stroke:i.content.secondary.default()},circle:{fill:i.content.secondary.default()}}})),v=s.Ay.circle((e=>{let{animate:t=!1}=e;return{fill:"transparent",transitionProperty:"stroke-dasharray",transitionDuration:t?"0.8s":"0",transitionTimingFunction:"ease-in-out"}})),C=s.Ay.circle((e=>{let{theme:{color:t}}=e;return{stroke:t.content.tertiary.default(),fill:"transparent"}})),E=80*Math.PI,T=50,R=e=>{const t=E/2*e;return`${t} ${E-t}`},z=e=>""+(180*Math.abs(e)-90),$=e=>{let{categories:t,colors:i,height:r,id:s,options:a,prefix:l,series:n,showTooltip:c,suffix:h,width:f}=e;const d=a.chart.animations.enabled,[u,p]=(0,o.useState)(0),[g,x]=(0,o.useState)(i[0]);(0,o.useEffect)((()=>{x(i[0])}),[i]),(0,o.useEffect)((()=>{const e=(e=>Math.min(100,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(void 0===e[t])return 0;const i=e[t].data[0];return void 0!==i?i:0}(e))/100)(n);p(e)}),[n,u]);const m=`${l} ${n[0]?n[0].data[0]:0} ${h}`,y=`${t[0]}: <b>${m}</b>`;return o.createElement(A,{id:`gauge-chart-${s}`,style:{width:f,height:r}},o.createElement("svg",{viewBox:"-50 -50 100 52"},o.createElement("defs",null,o.createElement("clipPath",{id:`semi-${s}`},o.createElement("rect",{x:-50,y:-50,width:"100",height:T}))),o.createElement("g",{clipPath:`url(#semi-${s})`},o.createElement(C,{r:40,strokeWidth:10}),o.createElement(v,{animate:d,r:40,stroke:g,strokeWidth:10,strokeDasharray:R(u),transform:"rotate(180)",onMouseEnter:()=>x(b(i[0],10)),onMouseLeave:()=>x(i[0]),"data-chart-tooltip":c,"data-title":n[0]?n[0].name:"","data-body":y,"data-color":i[0]})),o.createElement(S,{id:"gauge",animate:d,style:{transform:`rotateZ(${z(u)}deg)`}},o.createElement("line",{x:"0",y:"0",x1:"0",y2:-(40+10/1.8)}),o.createElement("circle",{cy:-1,r:2}))))},L=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,id:l,labelsFontSize:n,options:c,prefix:f,series:d,showAxisLabels:p=!1,suffix:g,textColor:x,width:m}=e;const y=h(c,{chart:{id:`heat-map-chart-${l}`},xaxis:{labels:{show:p,style:{colors:x,fontSize:n}},categories:i},yaxis:{labels:{show:p,style:{colors:x,fontSize:n}}},stroke:{show:!0},legend:{fontSize:n,labels:{colors:r}}}),w="#ffffff"===s[0]?s[1]:s[0],b=w?[w]:void 0;return o.createElement(u,{recreate:t,colors:b,height:a,options:y,prefix:f,series:d,suffix:g,type:"heatmap",width:m})},_=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,id:l,labelsFontSize:n,options:c,prefix:f,series:d,showAxisLabels:p=!1,suffix:g,textColor:x,width:m}=e;const y=h(c,{chart:{id:`line-chart-${l}`},xaxis:{labels:{show:p,style:{colors:x,fontSize:n}},categories:i},yaxis:{labels:{show:p,style:{colors:r,fontSize:n}}},stroke:{show:!0},legend:{fontSize:n,labels:{colors:r}}});return o.createElement(u,{recreate:t,colors:s,height:a,options:y,prefix:f,series:d,suffix:g,type:"line",width:m})},D=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,id:l,labelsFontSize:n,options:c,prefix:f,series:d,suffix:p,width:g}=e;const x=h(c,{chart:{id:`pie-chart-${l}`},tooltip:{theme:"light"},labels:i,legend:{fontSize:n,labels:{colors:r}}});return o.createElement(u,{recreate:t,colors:s,height:a,options:x,prefix:f,series:d[0]?d[0].data:[],suffix:p,type:"pie",width:g})};var F=i(13847);const k=s.Ay.div.attrs((e=>{let{width:t,height:i}=e;return{style:{width:t,height:i}}}))((()=>({alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"}))),H=s.Ay.div.attrs((e=>{let{fullHeight:t}=e;return{style:{height:t}}}))((()=>({alignItems:"flex-start",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start",overflow:"hidden",position:"relative",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%","&:last-child":{marginBottom:0}}))),O=s.Ay.p.attrs((e=>{let{currentHeight:t,fontSize:i}=e;return{style:{overflowX:0!==t?"hidden":"visible",minHeight:0!==t?`${t}px`:"auto",fontSize:i}}}))((e=>{let{textColor:t}=e;return{...F.iF.mixins.increaseSpecificity({whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%",marginBottom:"4px",display:"block",height:"auto",fontFamily:"Arial, sans-serif",fontWeight:"bold",letterSpacing:"-0.5px",color:t})}})),N=s.Ay.div((()=>({alignItems:"center",display:"flex",height:"100%",justifyContent:"flex-start",position:"relative",width:"100%"}))),M=s.Ay.div((e=>{let{theme:{color:t}}=e;return{alignItems:"center",backgroundColor:t.background.tertiary.default(),display:"flex",height:"calc(100% - 4px)",justifyContent:"flex-start",position:"relative",width:"100%"}})),I=s.Ay.div.attrs((e=>{let{percent:t,color:i,animationDelay:o}=e;return{style:{width:`${t>100?100:t}%`,background:i,transitionDelay:o/1e3+"s"}}}))((e=>{let{enableAnimation:t}=e;return{position:"absolute",top:0,left:0,height:"100%",transition:t?"width 0.8s ease-in-out":"0s"}})),P=s.Ay.p((e=>{let{fontSize:t,textColor:i,maxWidthValueText:o}=e;return{...F.iF.mixins.increaseSpecificity({fontSize:t,fontFamily:"Arial, sans-serif",fontWeight:"bold",letterSpacing:"-0.5px",marginLeft:"8px",minWidth:o?`${o}px`:"initial",maxWidth:"50%",color:i})}})),U=s.Ay.span((e=>{let{fontSize:t,textColor:i}=e;return{fontSize:t,fontFamily:"Arial, sans-serif",fontWeight:"bold",letterSpacing:"-0.5px",marginLeft:"8px",color:i}})),W=e=>{let{animationDelay:t,category:i,className:r="",color:s,height:a,maxWidthValueText:l,onWidthCalculated:n,options:c,prefix:h,progressBarsId:f,serieName:d,showLegend:u,showTooltip:p,showValues:g,suffix:x,textColor:m,textValue:y,value:w}=e;const[A,S]=(0,o.useState)(0),[v,C]=(0,o.useState)(0),[E,T]=(0,o.useState)(0),[R,z]=(0,o.useState)(s),$=(0,o.useRef)(null),L=(0,o.useRef)(null);(0,o.useEffect)((()=>{z(s)}),[s]),(0,o.useEffect)((()=>{S(28*parseFloat(a)/100),C(45*parseFloat(a)/100),T(0)}),[a]),(0,o.useEffect)((()=>{$.current&&0===l&&n(parseFloat(window.getComputedStyle($.current).getPropertyValue("width")))}),[v,l,n]),(0,o.useEffect)((()=>{L.current&&0!==A&&0===E&&setTimeout((()=>{if(!L.current)return;const e=parseFloat(window.getComputedStyle(L.current).getPropertyValue("height"));T(e)}),t)}),[A,t,E]);const _=`${i}: <b>${`${h} ${y} ${x}`}</b>`;return o.createElement(H,{fullHeight:a,className:r},u&&o.createElement(O,{textColor:m,fontSize:A,ref:L,currentHeight:E},i),o.createElement(N,null,o.createElement(M,null,o.createElement(I,{animationDelay:t,color:R,"data-body":_,"data-chart-tooltip":p,"data-chart-tooltip-options":JSON.stringify({parent:`#${f}`}),"data-color":s,"data-title":d,enableAnimation:c.chart.animations.enabled,onMouseEnter:()=>z(b(s,10)),onMouseLeave:()=>z(s),percent:v?w:0})),g&&o.createElement(P,{fontSize:v,maxWidthValueText:l,ref:$,textColor:m},h&&o.createElement(U,{fontSize:A,textColor:m},`${h} `),y,x&&o.createElement(U,{fontSize:A,textColor:m},` ${x}`))))},V=e=>{var t,i;let{animationDelay:r,categories:s,colors:a,height:l,id:n,options:c,prefix:h,series:f,showLegend:d,showTooltip:u,showValues:p,suffix:g,textColor:x,width:m}=e;const[y,w]=(0,o.useState)([]),[b,A]=(0,o.useState)(0),S=f[0]?f[0].data.length:0,v=parseFloat(l)/S-16*(S-1)/S+"px",C=e=>{y.push(e)};(0,o.useEffect)((()=>{f.length&&y.length===S&&A(y.length?y.reduce(((e,t)=>t>e?t:e)):0)}),[S,f.length,y]);const{data:E}=f&&f[0]&&f[0].data?f[0]:{data:[]};(0,o.useEffect)((()=>{w([]),A(0)}),[l,h,g,E]);const T=E&&E.length?parseFloat(null!==(t=null===f||void 0===f||null===(i=f[0])||void 0===i?void 0:i.data.reduce(((e,t)=>t>e?t:e)))&&void 0!==t?t:"0"):0;if(!f[0]||!f[0].data.length)return null;const R=`progress-bar-chart-${n}`;return o.createElement(k,{width:m,height:l,id:R},f[0].data.map(((e,t)=>{const i="%"===g?e:100*parseFloat(e)/T,l=`${s[t]}${t}`;return o.createElement(W,{animationDelay:r+150*t,category:s[t],color:a[0],height:v,key:l,maxWidthValueText:b,onWidthCalculated:C,options:c,prefix:h,progressBarsId:R,serieName:f[0]?f[0].name:"",showLegend:d,showTooltip:u,showValues:p,suffix:g,textColor:x,textValue:e,value:i})})))},{PI:B}=Math,j="left",G="right",J=e=>e*(B/180),Y=function(e,t){return{x:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:j)===j?50-e/2:50+e/2,y:t}},K=(e,t)=>{const i=t?100:0,o=t?68:63.43,r=e.reduce(((e,r,s)=>{const a=e[s-1],l=a&&a.offset?a.offset:0,n=a&&a.width?a.width:i,c=Y(n,l,j),h=Y(n,l,G),f=((e,t,i,o)=>{const r=J(i),s=J(90)-r,a=e*Math.sin(s)/Math.sin(r);return o?t-2*a:t+2*a})(r,n,o,t),d=l+r,u=Y(f,d,G),p=Y(f,d,j);return e.push({offset:d,topLeft:c,topRight:h,bottomRight:u,bottomLeft:p,width:f,height:r}),e}),[]);return r},X=e=>{let{topLeft:t,topRight:i,bottomRight:o,bottomLeft:r}=e;return`${t.x},${t.y} ${i.x},${i.y} \n  ${o.x},${o.y} ${r.x},${r.y}`},Z=s.Ay.g.attrs((e=>{let{yPos:t,enabledAnimation:i=!1,animationDelay:o}=e;return{transform:`translate(50, ${t-.75})`,style:{transitionDelay:i?`${o}ms`:"0ms"}}}))((e=>{let{enabledAnimation:t,hasData:i=!1}=e;return{transition:t?"opacity 0.8s ease-in-out":"0ms",opacity:i?1:0}})),q=s.Ay.line.attrs((e=>{let{color:t}=e;return{x1:0,x2:60,y1:.5,y2:.5,style:{stroke:t}}}))((()=>({strokeWidth:.5}))),Q=s.Ay.text.attrs((e=>{let{color:t,fontSize:i,y:o}=e;return{fontFamily:"Arial",fill:t,fontSize:i,y:o,x:65}}))((()=>({...F.iF.mixins.ellipsis(!0),marginBottom:"1%"}))),ee=e=>{let{animationDelay:t,category:i,enabledAnimation:r=!1,fontSize:s,hasData:a=!1,index:l,lineColor:n,offset:c,reverse:h=!1,textColor:f,totalOfSections:d}=e;const u=c,p=t+300*(h?l:d-l);return o.createElement(Z,{yPos:u,animationDelay:p,enabledAnimation:r,hasData:a},o.createElement(q,{color:n}),o.createElement(Q,{color:f,fontSize:s,y:s/2-.5},i))},te=(e,t)=>e?"translate(0, 0)":t?"translate(0, -50)":"translate(0, 50)",ie=s.Ay.polygon.attrs((e=>{let{enabledAnimation:t=!1,animationDelay:i,hasData:o=!1,reverse:r=!1}=e;return{style:{transitionDelay:t?`${i}ms`:"0ms"},transform:te(o,r)}}))((e=>{let{enabledAnimation:t=!1,hasData:i=!1}=e;return{transition:t?`transform 0.8s ease, opacity ${.8/1.5}s ease`:"0ms",opacity:i?1:0}})),oe=e=>{let{animationDelay:t,bottomLeft:i,bottomRight:r,category:s,color:a,enabledAnimation:l,hasData:n,index:c,offset:h=0,prefix:f,rawValue:d,reverse:u,serieName:p,showTooltip:g,suffix:x,topLeft:m,topRight:y,totalOfSections:w,value:A}=e;const S=h+A,[v,C]=(0,o.useState)(a);(0,o.useEffect)((()=>{C(a)}),[a]);const E=t+150*(w-c),T=`${s}: <b>${`${f} ${d} ${x}`}</b>`;return o.createElement(ie,{animationDelay:E,hasData:n,"data-body":T,"data-chart-tooltip":g,"data-color":a,"data-title":p,enabledAnimation:l,fill:v,key:S,onMouseEnter:()=>C(b(a,10)),onMouseLeave:()=>C(a),points:X({topLeft:m,topRight:y,bottomRight:r,bottomLeft:i}),reverse:u})},re=s.Ay.div.attrs((e=>{let{width:t,height:i}=e;return{style:{width:t,height:i}}}))((()=>({position:"relative",display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column",svg:{maxHeight:"100%"}}))),se=s.Ay.div((()=>({width:"100%",height:"100%",position:"relative"}))),ae=e=>{let{animationDelay:t=0,categories:i,colors:r,height:s,id:a,options:l,prefix:n,reverse:c=!1,series:h,showLegend:f,showTooltip:d,suffix:u,textColor:p,width:g}=e;const[x,m]=(0,o.useState)(0),[y,w]=(0,o.useState)(!1),b=(0,o.useMemo)((()=>h[0]?h[0].data:[]),[h]),A=b.reduce(((e,t)=>e+parseFloat(t)),0),S=b.map((e=>parseFloat(e)/A*100)),v=r.slice(0,b.length),C=c?[...b].reverse():[...b],E=c?v.reverse():v,T=c?[...i].reverse():[...i],R=l.chart.animations.enabled,z=K(S,c),$=c?z.reverse():z;(0,o.useEffect)((()=>{m(parseFloat(null!==g&&void 0!==g?g:"0")/100)}),[g]),(0,o.useEffect)((()=>{b.length&&!y&&setTimeout((()=>{w(!0)}),0)}),[b,y]);return o.createElement(re,{id:`pyramid-chart-${a}`,width:g,height:s},o.createElement(se,null,o.createElement("svg",{viewBox:f?"-5 -5 160 110":"-5 -5 110 110"},f?$.map(((e,i)=>{var r,s;let{offset:a}=e;const l=`${a}-${i}`;return o.createElement(ee,{animationDelay:t,hasData:y,category:null!==(r=T[i])&&void 0!==r?r:"",enabledAnimation:R,fontSize:x,index:i,key:l,lineColor:null!==(s=E[i])&&void 0!==s?s:"",offset:a,textColor:p,totalOfSections:S.length})})):null,$.map(((e,i)=>{let{topLeft:r,topRight:s,bottomRight:a,bottomLeft:l,height:f}=e;const p=`${f}-${r.y}`;return o.createElement(oe,{animationDelay:t,hasData:y,bottomLeft:l,bottomRight:a,category:T[i],color:E[i],enabledAnimation:R,index:i,key:p,prefix:n,rawValue:C[i],reverse:c,serieName:h[0]?h[0].name:"",showTooltip:d,suffix:u,topLeft:r,topRight:s,totalOfSections:S.length,value:f})})))))},le=e=>{let{categories:t,colors:i,height:r,id:a,options:l,prefix:n,series:c,showAxisLabels:f=!1,suffix:d,textColor:p,width:g,animating:x,labelsFontSize:m,colorAllTexts:y}=e;const{color:w}=(0,s.DP)(),b={chart:{id:`radar-chart-${a}`},xaxis:{labels:{show:f,style:{colors:t.map((()=>p)),fontSize:m}},categories:t},yaxis:{labels:{show:f,style:{fontSize:m}}},stroke:{show:!0,curve:"straight"},fill:{opacity:void 0},plotOptions:{radar:{polygons:{strokeColors:w.content.tertiary.default(),connectorColors:w.content.tertiary.default(),fill:{colors:["transparent"]}}}},legend:{fontSize:m,labels:{colors:y}}},A=h(l,b);return o.createElement(u,{recreate:x,colors:i,height:r,options:A,prefix:n,series:c,suffix:d,type:"radar",width:g})},ne=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,id:l,labelsFontSize:n,options:c,prefix:f,series:d,suffix:p,width:g}=e;const x=h(c,{chart:{id:`radial-chart-${l}`},labels:i,plotOptions:{radialBar:{hollow:{size:"35%"},dataLabels:{show:!1}}},legend:{fontSize:n,labels:{colors:r}}});return o.createElement(u,{recreate:t,colors:s,height:a,options:x,prefix:f,series:d[0]?d[0].data:[],suffix:p,type:"radialBar",width:g})},ce=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,id:l,labelsFontSize:n,options:c,prefix:f,series:d,showAxisLabels:p=!1,suffix:g,width:m}=e;const y=d.map((e=>({name:e.name,data:[e.data]}))),w=h(c,{chart:{id:`scatter-chart-${l}`},tooltip:{x:{show:!1},y:{formatter:(e,t)=>{let{seriesIndex:o}=t;return`${x({category:i[0],prefix:f[0],suffix:g[0],value:d[o].data[0]})}, \n          ${x({category:i[1],prefix:f[1],suffix:g[1],value:e})}`}}},xaxis:{type:"numeric",labels:{show:p,type:"numeric",formatter:e=>parseFloat(e).toFixed(1),style:{colors:r,fontSize:n}}},yaxis:{type:"numeric",labels:{show:p,style:{colors:r,fontSize:n}}},legend:{fontSize:n,labels:{colors:r}}});return o.createElement(u,{colors:s,height:a,options:w,prefix:f,recreate:t,series:y,suffix:g,type:"scatter",width:m})},he=e=>{let{animating:t,categories:i,colorAllTexts:r,colors:s,height:a,id:l,labelsFontSize:n,options:c,prefix:f,series:d,showAxisLabels:p=!1,suffix:g,textColor:x,width:m}=e;const y=h(c,{chart:{id:`timeline-chart-${l}`},xaxis:{type:"datetime",labels:{show:p,style:{colors:r,fontSize:n}}},yaxis:{labels:{show:p,style:{colors:x,fontSize:n}}},plotOptions:{bar:{horizontal:!0,distributed:!0}},dataLabels:{enabled:!1,distributed:!1,offsetX:0,offsetY:0,style:{colors:["#fff"]}},legend:{show:!1,fontSize:n,labels:{colors:r}}}),w=i.length&&d.length&&d[0]&&d[1]&&d[0].data.length&&d[1].data.length?[{name:"",data:i.map(((e,t)=>({x:e,y:[d[0].data[t]&&d[1].data[t]?new Date(d[0].data[t]).getTime():0,d[0].data[t]&&d[1].data[t]?new Date(d[1].data[t]).getTime():0]})))}]:[{name:"",data:[{x:"",y:[0,0]}]}];return o.createElement(u,{recreate:t,colors:s,height:a,options:y,prefix:f,series:w,suffix:g,type:"rangeBar",width:m})},fe=e=>{const t=e.reduce(((e,t)=>t.length>e?t.length:e),0),i=Array(t);return e.forEach(((t,o)=>{t.forEach(((t,r)=>{i[r]||(i[r]=Array(e.length).fill(0)),i[r][o]=t}))})),i},de=(e,t)=>{let i;return i="string"!==typeof e?e:"CHART_COLUMN_LINE"===t||"CHART_SCATTER"===t?[e,e]:[e],i},ue=e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t},pe=e=>{const{r:t,g:i,b:o}=(e=>{const t=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);return{r:Number(t[1]),g:Number(t[2]),b:Number(t[3]),a:Number(t[4])||1}})(e);return`#${ue(t)}${ue(i)}${ue(o)}`},ge=e=>e?e.includes("#")?e:pe(e):"#000000",xe=(0,r.PA)((e=>{let t,{animationDelay:i=0,colorAllTexts:r,colors:a,data:l,documentConfig:n,enableAnimation:c=!1,enableDataLabels:h=!1,height:f,id:d,invertYAxis:u=!1,labelsFontSize:w,lineVariant:b,prefix:A="",scale:S=1,showAxisLabels:v=!1,showLegend:C=!1,showLineMarkers:E=!1,showTitles:T,showTooltip:R=!1,style:z={},suffix:F="",textColor:k,type:H,width:O}=e;switch(H){case"CHART_HEATMAP":t=(e=>{const t=(e=>{if(!e.length)return e;const t=[e[0]],i=[...e].reverse();return i.pop(),t.concat(i)})(e);return fe(t)})(l);break;case"CHART_COLUMNS":case"CHART_COLUMNS_GROUPED":case"CHART_COLUMNS_STACKED":case"CHART_SCATTER":t=fe(l);break;default:t=l}const{series:N,categories:M}=(e=>{const t=[],i=[];return e.forEach(((o,r)=>o.forEach(((o,s)=>{var a;0!==s||0===r?0!==s&&0!==r&&(t[s-1]||(t[s-1]={name:e[0][s],data:[]}),null===(a=t[s-1])||void 0===a||a.data.push(o)):i.push(o)})))),{series:t||[],categories:i||[]}})(t),I=de(A,H),P=de(F,H),{color:U}=(0,s.DP)(),W=N.map((e=>({name:e.name,data:[e.data[0],e.data[1]]}))),B=[...M];B.length=2;const j={chart:{scale:S,zoom:{enabled:!1},animations:{enabled:c},toolbar:{show:!1},foreColor:U.content.tertiary.default()},legend:{show:C,showForSingleSeries:C,markers:{strokeWidth:1,strokeColor:"#eceff1"}},tooltip:{enabled:R,theme:"#ffffff"===a[0]?"dark":"light",y:{formatter:e=>x({prefix:I[0],suffix:P[0],value:e})}},dataLabels:{enabled:h},stroke:{show:!1,curve:b||"smooth"},fill:{opacity:1},...!0===E&&{markers:{size:5,strokeWidth:0}}},[G,J]=(0,o.useState)(!c),Y=(0,o.useRef)(void 0);(0,o.useEffect)((()=>(c&&void 0===Y.current&&(Y.current=setTimeout((()=>{J(!0)}),1e3*i)),()=>{void 0!==Y.current&&clearTimeout(Y.current)})),[c,i]);const K=a.map((e=>{if(n&&n.colors){const{Primary:t,Secondary:i,Tertiary:o}=n.colors;if(e.includes("var(--genially-primary)"))return ge(t);if(e.includes("var(--genially-secondary)"))return ge(i);if(e.includes("var(--genially-tertiary)"))return ge(o)}return e})),X=G?K:K.map((()=>"rgba(1,1,1,0)"));(e=>"CHART_FUNNEL"!==e&&"CHART_GAUGE"!==e&&"CHART_PROGRESS_BAR"!==e&&"CHART_PYRAMID"!==e)(H)&&(j.dataLabels.colors=K,j.fill.type=G?j.fill.type:"solid",j.legend.markers.fillColors=K);return o.createElement("div",{className:"genially-chart-wrapper",style:z},(()=>{var e,t,s,l,n,c;switch(H){case"CHART_COLUMNS":case"CHART_COLUMNS_GROUPED":return o.createElement(g,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_COLUMNS_STACKED":return o.createElement(g,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,stacked:!0,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_BARS":case"CHART_BARS_GROUPED":return o.createElement(g,{invertYAxis:u,categories:M,colors:X,height:f,horizontal:!0,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_BARS_STACKED":return o.createElement(g,{invertYAxis:u,categories:M,colors:X,height:f,horizontal:!0,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,stacked:!0,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_DONUT":return o.createElement(y,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,suffix:P[0],width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_LINE":case"CHART_LINE_SERIES":return o.createElement(_,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,suffix:P[0],showAxisLabels:v,textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_PIE":return o.createElement(D,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,suffix:P[0],animating:G,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_RADAR":return o.createElement(le,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_AREA":case"CHART_AREA_SERIES":return o.createElement(p,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_AREA_STACKED":return o.createElement(p,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,stacked:!0,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_HEATMAP":return o.createElement(L,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_SCATTER":return o.createElement(ce,{animating:G,categories:B,colors:X,height:f,id:d,options:j,prefix:I,series:W,showAxisLabels:v,suffix:P,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_RADIAL":return o.createElement(ne,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,suffix:P[0],width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_COLUMN_LINE":return o.createElement(m,{categories:M,colors:X,height:f,id:d,options:j,prefix:I,series:N,animating:G,showAxisLabels:v,suffix:P,textColor:k,width:O,lineVariant:b,labelsFontSize:w,showTitles:T,colorAllTexts:r});case"CHART_PROGRESS_BAR":return o.createElement(V,{animationDelay:1e3*i,categories:M,colors:a,height:f,id:d,options:j,prefix:I[0],series:N,showLegend:C,showTooltip:R,showValues:v,suffix:P[0],textColor:k,width:O});case"CHART_TIMELINE":return o.createElement(he,{categories:M,colors:X,height:f,id:d,options:j,prefix:I[0],series:N,animating:G,showAxisLabels:v,suffix:P[0],textColor:k,width:O,labelsFontSize:w,colorAllTexts:r});case"CHART_GAUGE":return o.createElement($,{categories:M,colors:a,height:f,id:d,options:j,prefix:I[0],series:G?N:[{name:null!==(e=null===(t=N[0])||void 0===t?void 0:t.name)&&void 0!==e?e:"",data:[]}],showTooltip:R,suffix:P[0],width:O});case"CHART_PYRAMID":return o.createElement(ae,{categories:M,colors:K,height:f,id:d,key:"CHART_PYRAMID",options:j,prefix:I[0],series:G?N:[{name:null!==(s=null===(l=N[0])||void 0===l?void 0:l.name)&&void 0!==s?s:"",data:[]}],showLegend:C,showTooltip:R,suffix:P[0],textColor:k,width:O});case"CHART_FUNNEL":return o.createElement(ae,{key:"CHART_FUNNEL",categories:M,colors:K,height:f,id:d,options:j,prefix:I[0],reverse:!0,series:G?N:[{name:null!==(n=null===(c=N[0])||void 0===c?void 0:c.name)&&void 0!==n?n:"",data:[]}],showLegend:C,showTooltip:R,suffix:P[0],textColor:k,width:O});default:return o.createElement("div",null)}})())})),me=xe}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/charts.ca5a4f1a.chunk.js.map