"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[485],{45577:(e,t,n)=>{n.d(t,{q:()=>a});var o=n(45992),r=n(17588),i=n(66264),l=n(60708),u=n(70698),d=n(5441);const a=(0,r.forwardRef)(((e,t)=>{let{getItems:n,item:a,menuType:s,theme:m,shouldCloseWhenClickOutside:c=!1,menuTheme:h,styles:g,slideSize:v,getItemLayout:f}=e;const[y,C]=(0,r.useState)(n()),[p,T]=(0,r.useState)(!1),b=function(e){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{e&&("function"===typeof e?e(t.current):e.current=t.current)})),t}(t),x=(0,r.useCallback)((()=>{T((e=>!e))}),[]);(0,r.useEffect)((()=>{const e=null===a||void 0===a?void 0:a.on(i.q.Message,(e=>{e===l.m.Entering&&(C(n()),T(!1))}));return()=>{null===e||void 0===e||e()}}),[n,a]),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.useEffect)((()=>{const o=n=>{(null===t||void 0===t?void 0:t.current)&&!t.current.contains(n.target)&&e(n)};return document.addEventListener("mouseup",o,n),document.addEventListener("touchend",o,n),()=>{document.removeEventListener("mouseup",o,n),document.removeEventListener("touchend",o,n)}}),[t,e,n])}((0,r.useCallback)((()=>{c&&p&&T(!1)}),[p,c]),b,!0),(0,r.useEffect)((()=>{C(n())}),[n]);const k=(0,u.CO)(s);return(0,d.T)({theme:m,children:(0,o.jsx)(k,{items:y,onToggleClick:x,opened:p,ref:b,theme:m,menuTheme:h,styles:g,slideSize:v,getItemLayout:f})})}))},15690:(e,t,n)=>{n.d(t,{M:()=>f});var o=n(45992),r=n(17588),i=n(89035),l=n(21646);const u=()=>{},d=(0,r.forwardRef)(((e,t)=>{let{styles:n}=e;const r=u;return(0,o.jsx)(l.W1,{ref:t,style:{width:"100%",height:"100%"},$backgroundColor:n.backgroundColor,$hamburgerIconColor:n.hamburgerIconColor,children:(0,o.jsxs)(l.YT,{"data-nav-element":"hamburger-menu-toggle",$width:i.sf,children:[(0,o.jsx)(l.e3,{}),(0,o.jsx)(l.cl,{onClick:r,role:"button",children:(0,o.jsx)(l.h_,{children:(0,o.jsx)(l.RG,{$color:n.hamburgerIconColor})})})]})})}));var a=n(58424),s=n(73242);const m=Math.random().toString(36).substring(7),c=()=>{},h=(0,r.forwardRef)(((e,t)=>{let{items:n,menuTheme:r,styles:i}=e;const l=`mainMenu-${m}`,u=c,{ref:d,hasScroll:h}=(0,a.x)();return(0,o.jsxs)(s.W1,{"aria-labelledby":l,role:"menu",ref:t,$menuTheme:r,style:{width:"100%",height:"100%"},$backgroundColor:i.backgroundColor,children:[h.horizontal&&(0,o.jsx)(s.hh,{onClick:u,$menuTheme:r,$disabled:!0,children:(0,o.jsx)(s.rZ,{})}),(0,o.jsx)(s.JU,{id:l,children:"Main menu"}),(0,o.jsx)(s.e3,{}),(0,o.jsx)(s.QS,{ref:d,children:n.map((e=>(0,o.jsx)(s.d,{$isLink:e.isLink,$isActive:e.isActive,$isAllowed:e.isAllowed,$backgroundColor:e.backgroundColor,$textColor:e.textColor,children:(0,o.jsx)(s.Dr,{tabIndex:-1,"aria-label":e.altText||void 0,"aria-disabled":!e.altText,children:(0,o.jsx)(s.gi,{children:e.text})})},e.text+e.key)))}),h.horizontal&&(0,o.jsx)(s.hh,{onClick:u,$menuTheme:r,children:(0,o.jsx)(s.wF,{})})]})}));var g=n(54769);var v=n(5441);const f=e=>{let{getItems:t,menuType:n,theme:r,styles:i,menuTheme:l}=e;const u=t(),a=(e=>{switch(e){case g.L.Horizontal:return h;case g.L.Hamburger:return d;default:return h}})(n);return(0,v.T)({theme:r,children:(0,o.jsx)(a,{items:u,menuTheme:l,styles:i})})}},38352:(e,t,n)=>{var o;n.d(t,{N:()=>s,e:()=>c}),function(e){e.None="none",e.Unique="unique"}(o||(o={}));const r=new Map,i=new Map;function l(e){const t=function(e){return"string"===typeof e?i.get(e):r.get(e)}(e);if(!t)throw new Error(`error getting metadata for unknown interactivity action type - ${e}`);return t}var u=n(48237);const d=(e,t,n)=>""===e?t(n?"__new.editor.widget.menu.sidebar.emptyTitlePlaceholder":"__new.view.widget.menu.sidebar.emptyTitlePlaceholder"):e,a=(e,t)=>{var n,o,r,i;const u=e.menuItemAction.action;if(!u)return!1;const d=l(u.type),a=null===(n=d.getSlideIdsFromSnapshot)||void 0===n?void 0:n.call(d,u),s=null===(o=t.getCurrentSlide())||void 0===o?void 0:o.id;if(a&&a.length>0)return s===a[0];const m=t.getSlides(),c=m.findIndex((e=>e.id===s));return"smartLink"in u.target&&"firstPage"===(null===(r=u.target)||void 0===r?void 0:r.smartLink)?0===c:"smartLink"in u.target&&"lastPage"===(null===(i=u.target)||void 0===i?void 0:i.smartLink)&&c===m.length-1},s=(e,t,n,o)=>e.map(((e,r)=>{var i;const l=(null===(i=e.menuItemAction.action)||void 0===i?void 0:i.type)===u.L.GoToSlide;return{text:d(e.menuItemName,n,o),key:r,onClick:()=>{},isLink:l,isActive:a(e,t),isAllowed:l,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}})),m={active:!1,allowed:!1},c=(e,t,n)=>e.map(((e,o)=>{var r,i;const l=!!(null===(r=e.menuItemAction)||void 0===r?void 0:r.data)&&(null===(a=e.menuItemAction.data)||void 0===a?void 0:a.type)===u.L.GoToSlide;var a;const{active:s,allowed:c}=l&&(null===(i=e.menuItemAction)||void 0===i?void 0:i.data)?t.getGoToSlideState(e.menuItemAction.data):m;return{text:d(e.menuItemName,t.t,n),key:o,onClick:()=>{var t;return null===(t=e.menuItemAction)||void 0===t?void 0:t.run()},isLink:l,isActive:s,isAllowed:c,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}}))},90485:(e,t,n)=>{n.r(t),n.d(t,{geniallyMenuViewScript:()=>a});var o=n(45992),r=n(41381),i=n(42511),l=n(45577),u=n(15690),d=n(38352);const a=(e,t)=>{const n=()=>{var t,n,o,r,i,l,u,d;return{width:null!==(n=null===(t=e.item)||void 0===t?void 0:t.width)&&void 0!==n?n:0,height:null!==(r=null===(o=e.item)||void 0===o?void 0:o.height)&&void 0!==r?r:0,left:null!==(l=null===(i=e.item)||void 0===i?void 0:i.x)&&void 0!==l?l:0,top:null!==(d=null===(u=e.item)||void 0===u?void 0:u.y)&&void 0!==d?d:0}};(0,r.p)({getTargetNodeItem:()=>e.item,initialState:void 0,renderApp:()=>{var r;const{config:u,item:a}=e,{menuItems:s,menuType:m,menuTheme:c,backgroundColor:h,hamburgerIconColor:g}=u,v=null!==(r=null===a||void 0===a?void 0:a.parentSlide.size)&&void 0!==r?r:{width:0,height:0},f=()=>(0,d.e)(s,t,!1);return()=>(0,o.jsx)(i.W,{children:(0,o.jsx)(l.q,{getItems:f,item:a,menuType:m,theme:t.theme,shouldCloseWhenClickOutside:!0,menuTheme:c,styles:{backgroundColor:h,hamburgerIconColor:g},getItemLayout:n,slideSize:v})})},renderThumbnailApp:()=>{const{config:n}=e,{menuType:r,menuTheme:i,backgroundColor:l,hamburgerIconColor:a}=n;return(0,o.jsx)(u.M,{getItems:()=>(0,d.e)(e.config.menuItems,t,!1),menuType:r,menuTheme:i,theme:t.theme,styles:{backgroundColor:l,hamburgerIconColor:a}})}})(e,t)}},41381:(e,t,n)=>{n.d(t,{p:()=>l});var o=n(70377),r=n(66264),i=n(60708);function l(e){let{getTargetNodeItem:t,renderApp:n,renderThumbnailApp:l,initialState:u}=e,d=!1;const a=[],s=e=>{a.push(e)};return e=>{const m=t(e.config),c=null===m||void 0===m?void 0:m.parentSlide;function h(){if(!m)return;let e=null;if("idOfFreeNode"in m)e=document.getElementById(m.idOfFreeNode);else{const t=document.createElement("div");t.innerHTML=m.source;let n=t.getElementsByClassName("genially-widget-app");n.length||(n=t.getElementsByClassName("genially-widget-gallery"));const{id:o}=n[0];if(!o)return;e=document.getElementById(o)}if(e){const t=r=>{if(d){const i=n({setState:t,onUnmount:s});o.render(i(r),e)}else console.warn('"rerender" was called when the widget was already unmounted. This is a no-op. Did you forget to dispose of an event handler with "onUnmount"?')};d=!0,t(u),a.push((()=>{o.unmountComponentAtNode(e)}))}}function g(){d=!1,a.forEach((e=>{e()})),a.length=0}null===m||void 0===m||m.on(r.q.Mount,(()=>{h()})),null===m||void 0===m||m.on(r.q.Unmount,(()=>{g()})),m&&"isTransversal"in m&&m.isTransversal?h():null===c||void 0===c||c.on(i.m.Entering,(()=>{d||h()})),null===c||void 0===c||c.on(i.m.Exited,(()=>{m&&"isTransversal"in m&&m.isTransversal||d&&g()})),null===c||void 0===c||c.on(i.m.ThumbnailMount,(()=>{!function(){if(!l||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{o.unmountComponentAtNode(e)}))}(),function(){if(!l||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{o.render(l(),e)}))}()}))}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/485.bccd46d6.chunk.js.map